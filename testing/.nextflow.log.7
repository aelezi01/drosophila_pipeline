Nov-24 14:14:53.289 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main.nf
Nov-24 14:14:53.456 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 22.04.0
Nov-24 14:14:53.587 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [prickly_lorenz] DSL2 - revision: e278e4316d
Nov-24 14:14:53.608 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/camp/home/elezia/.nextflow/plugins; core-plugins: nf-amazon@1.7.1,nf-azure@0.13.1,nf-console@1.0.3,nf-ga4gh@1.0.3,nf-google@1.1.4,nf-sqldb@0.4.0,nf-tower@1.4.0
Nov-24 14:14:53.612 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Nov-24 14:14:53.627 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Nov-24 14:14:53.628 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Nov-24 14:14:53.632 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Nov-24 14:14:53.643 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Nov-24 14:14:53.709 [main] DEBUG nextflow.Session - Session uuid: 6fad7d13-380e-413a-890e-5da7766854d5
Nov-24 14:14:53.709 [main] DEBUG nextflow.Session - Run name: prickly_lorenz
Nov-24 14:14:53.711 [main] DEBUG nextflow.Session - Executor pool size: 32
Nov-24 14:14:53.747 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 22.04.0 build 5697
  Created: 23-04-2022 18:00 UTC (19:00 BST)
  System: Linux 3.10.0-1160.62.1.el7.x86_64
  Runtime: Groovy 3.0.10 on OpenJDK 64-Bit Server VM 11.0.2+9
  Encoding: UTF-8 (UTF-8)
  Process: 29258@babs001 [10.28.4.19]
  CPUs: 32 - Mem: 251.1 GB (140.9 GB) - Swap: 8 GB (23.1 MB)
Nov-24 14:14:53.778 [main] DEBUG nextflow.Session - Work-dir: /camp/stp/babs/scratch/elezia/nf_work [gpfs]
Nov-24 14:14:53.778 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /camp/stp/babs/working/elezia/projects/godinol/juan.ramos/drosophila_pipeline/testing/bin
Nov-24 14:14:53.788 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Nov-24 14:14:53.802 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Nov-24 14:14:53.828 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Nov-24 14:14:53.842 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 33; maxThreads: 1000
Nov-24 14:14:53.969 [main] DEBUG nextflow.Session - Session start invoked
Nov-24 14:14:54.726 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Nov-24 14:14:55.156 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-24 14:14:55.158 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-24 14:14:55.162 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Nov-24 14:14:55.168 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=32; memory=251.1 GB; capacity=32; pollInterval=100ms; dumpInterval=5m
Nov-24 14:14:55.269 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-24 14:14:55.269 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-24 14:14:55.275 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: fun1, fun2
Nov-24 14:14:55.276 [main] DEBUG nextflow.Session - Ignite dataflow network (3)
Nov-24 14:14:55.281 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > fun1
Nov-24 14:14:55.282 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > fun2
Nov-24 14:14:55.282 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Nov-24 14:14:55.283 [main] DEBUG nextflow.Session - Session await
Nov-24 14:14:55.500 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-24 14:14:55.505 [Task submitter] INFO  nextflow.Session - [ae/224c01] Submitted process > fun1 (3)
Nov-24 14:14:55.518 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-24 14:14:55.523 [Task submitter] INFO  nextflow.Session - [6f/b3175f] Submitted process > fun1 (5)
Nov-24 14:14:55.546 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-24 14:14:55.546 [Task submitter] INFO  nextflow.Session - [11/642b94] Submitted process > fun1 (2)
Nov-24 14:14:55.554 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-24 14:14:55.555 [Task submitter] INFO  nextflow.Session - [eb/5f715f] Submitted process > fun1 (4)
Nov-24 14:14:55.560 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-24 14:14:55.561 [Task submitter] INFO  nextflow.Session - [a1/a916c5] Submitted process > fun1 (1)
Nov-24 14:14:55.568 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: fun1 (3); status: COMPLETED; exit: 0; error: -; workDir: /camp/stp/babs/scratch/elezia/nf_work/ae/224c0149bf0668cdb36fce9fd53bf6]
Nov-24 14:14:55.588 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: fun1 (5); status: COMPLETED; exit: 0; error: -; workDir: /camp/stp/babs/scratch/elezia/nf_work/6f/b3175f0913eff0691a0773fea67ae1]
Nov-24 14:14:55.619 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: fun1 (2); status: COMPLETED; exit: 0; error: -; workDir: /camp/stp/babs/scratch/elezia/nf_work/11/642b947d5ad118b2475597880b000b]
Nov-24 14:14:55.625 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: fun1 (4); status: COMPLETED; exit: 0; error: -; workDir: /camp/stp/babs/scratch/elezia/nf_work/eb/5f715f018703e057cdb6f584002e7e]
Nov-24 14:14:55.631 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: fun1 (1); status: COMPLETED; exit: 0; error: -; workDir: /camp/stp/babs/scratch/elezia/nf_work/a1/a916c50af83f5ade5a23ed9a1fffae]
Nov-24 14:14:55.632 [Actor Thread 33] ERROR nextflow.processor.TaskProcessor - Error executing process > 'fun2 (1)'

Caused by:
  No such variable: fun1 -- Check script './f2.nf' at line: 12

Source block:
  species = "${ch[2]["Species"]}"
  smth = "${species}.txt"
  """
          head ${fun1[0]} > "${species}"2.txt
          """

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Nov-24 14:14:55.636 [Actor Thread 33] DEBUG nextflow.Session - Session aborted -- Cause: Process `fun2 (1)` script contains error(s)
Nov-24 14:14:55.653 [Actor Thread 33] DEBUG nextflow.Session - The following nodes are still active:
[process] fun2
  status=ACTIVE
  port 0: (queue) closed; channel: ch
  port 1: (cntrl) -     ; channel: $

Nov-24 14:14:55.655 [main] DEBUG nextflow.Session - Session await > all process finished
Nov-24 14:14:55.656 [main] DEBUG nextflow.Session - Session await > all barriers passed
Nov-24 14:14:55.664 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=5; failedCount=0; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=68ms; failedDuration=0ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=2; peakCpus=2; peakMemory=0; ]
Nov-24 14:14:55.855 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Nov-24 14:14:55.882 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
